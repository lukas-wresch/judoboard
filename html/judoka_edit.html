<h2>Edit Judoka</h2>

<form>

<div>
    <label style="width:150px;float:left;margin-top:5px;" id="label_firstname">Given name</label>
    <input style="margin-bottom:20px;" type="text" id="firstname" value="" size="40" maxlength="64"/>
</div>

<div>
    <label style="width:150px;float:left;margin-top:5px;" id="label_lastname">Family name</label>
    <input style="margin-bottom:20px;" type="text" id="lastname" value="" size="40" maxlength="64"/>
</div>

<div>
    <label style="width:150px;float:left;margin-top:5px;" id="label_weight">Weight</label>
    <input style="margin-bottom:20px;" type="number" id="weight" value="" min="10" max="500" />
</div>

<div style="margin-bottom: 1cm;">
  <label style="width:150px;float:left;margin-top:5px;" id="label_gender">Gender</label>
  <select style="margin-bottom:20px;" id="gender">
    <option selected value="0" id="male">Male</option>
    <option value="1" id="female">Female</option>
  </select>
</div>

<button class="neutral" style="margin-right: 2cm;" onclick="return UpdateJudoka()" id="update">Save</button>
<button class="remove" onclick="return DeleteJudoka()" id="delete">Delete</button>

</form>


<script>

function GetJudoka(id)
{
  AjaxCallback("ajax/judoka/get?id="+id, function(response) {
    var res = response.split(",");

    document.getElementById("firstname").value = res[1];
    document.getElementById("lastname").value  = res[2];
    document.getElementById("weight").value    = res[3];
    document.getElementById("gender").value    = res[4];
  });
}


function UpdateJudoka()
{
  var params = URLEncode({
    firstname: document.getElementById("firstname").value,
    lastname:  document.getElementById("lastname").value,
    weight:    document.getElementById("weight").value,
    gender:    document.getElementById("gender").value
  });

  AjaxPost('ajax/judoka/update?id='+id, params, function() {
    navigate('list_judoka.html');
  });

  return false;
}


function DeleteJudoka()
{
  if (confirm(lang.delete_judoka_confirm))
  {
    Ajax('ajax/judoka/delete?id='+id);
    navigate('schedule.html');
  }

  return false;
}


var id = URLDecode(URL, "id");

GetJudoka(id);

document.getElementById("label_firstname").innerHTML = lang.firstname;
document.getElementById("label_lastname").innerHTML  = lang.lastname;
document.getElementById("label_weight").innerHTML  = lang.weight;
document.getElementById("label_gender").innerHTML  = lang.gender;
document.getElementById("male").innerHTML  = lang.male;
document.getElementById("female").innerHTML  = lang.female;

</script>