<h2 id="headline">New Club</h2>

<form>

<div>
    <label style="width:200px;float:left; margin-top:4px;" id="label_name">Name</label>
    <input style="margin-bottom:20px;" type="text" id="name" value="" size="30" maxlength="64"/>
</div>


<button class="add" style="margin-top: 0.8cm;" onclick="return AddClub()" id="add">New Club</button>
<button class="neutral" style="margin-top: 0.8cm;" onclick="return UpdateClub()" id="update">Update Club</button>

</form>


<script>

function AddClub()
{
  var params = URLEncode({
    name:             document.getElementById("name").value
  });

  AjaxPost('ajax/club/add', params, function() {
    navigate("club_list.html");
  });

  return false;
}


function UpdateClub()
{
  var params = URLEncode({
    name:             document.getElementById("name").value
  });

  AjaxPost('ajax/club/update?id='+id, params, function() {
    navigate("club_list.html");
  });

  return false;
}


function GetClub(id)
{
  AjaxCallback("ajax/club/get?id="+id, function(response) {
    var res = YAML.parse(response);

    document.getElementById("name").value = res.name;
  });
}



document.getElementById("add").innerHTML    = lang.new_club;
document.getElementById("update").innerHTML = lang.update_club;
document.getElementById("label_name").innerHTML             = lang.name;

var id = URLDecode(URL, "id");

if (id)
{
  document.getElementById("headline").innerHTML = lang.update_club;
  document.getElementById("add").style.display = "none";
  GetClub(id);
}
else
{
  document.getElementById("headline").innerHTML = lang.new_club;
  document.getElementById("update").style.display = "none";
}

</script>