<h1 id="headline">List of Judokas</h1>

<button class="add" id="add" style="margin-bottom: 1cm;" onclick="navigate('judoka_add.html')">New Judoka</button> 

<table id="list" border="1" rules="all" style="margin-bottom: 1cm;">
  <tr>
    <th style="width: 4cm;" id="firstname">Firstname</th>
    <th style="width: 4cm;" id="lastname">Lastname</th>
    <th style="width: 3.5cm;" id="club">Club</th>
    <th style="width: 2cm;" id="weight">Weight</th>
    <th style="width: 2cm;" id="gender">Gender</th>
    <th style="width: 2cm;" id="options">Options</th>
  </tr>
</table>


<script>

function GetJudokaList()
{
  AjaxCallback("ajax/judoka/list", function(response) {
    console.log(response);
    var res = YAML.parse(response);

    var table = document.getElementById("list");

    while (table.rows.length > 1)
      table.deleteRow(table.rows.length-1);

    for (const judoka of res)
    {
      var row = table.insertRow(-1);
      var cell1 = row.insertCell(0);
      var cell2 = row.insertCell(1);
      var cell6 = row.insertCell(2);
      var cell3 = row.insertCell(3);
      var cell4 = row.insertCell(4);
      var cell5 = row.insertCell(5);

      cell1.style.fontSize  = "16pt";
      cell1.innerHTML = judoka.firstname;
      cell2.style.fontSize  = "16pt";
      cell2.innerHTML = judoka.lastname;

      cell6.style.fontSize  = "14pt";
      if (typeof judoka.club_name !== 'undefined')
        cell6.innerHTML = judoka.club_name;
      else
        cell6.innerHTML = "- - -";

      cell3.style.fontSize  = "16pt";
      cell3.innerHTML = judoka.weight + " kg";


      if (judoka.gender == 0)
        cell4.innerHTML = lang.male;
      else
        cell4.innerHTML = lang.female;
      

      //cell5.innerHTML = "<a href=\"#judoka_edit.html?id="+id+"\">Edit Judoka</a>";
      cell5.innerHTML = "<button class=\"white\" style=\"width: 3.3cm; height: 9mm; margin-right: 5mm;\" onclick=navigate(\"judoka_add.html?id="+judoka.uuid+"\");>Edit Judoka</button>";
    }
  });
}


GetJudokaList();

document.getElementById("headline").innerHTML = lang.list_of_all_judokas;
document.getElementById("add").innerHTML      = lang.new_judoka;
document.getElementById("firstname").innerHTML = lang.firstname;
document.getElementById("lastname").innerHTML  = lang.lastname;
document.getElementById("weight").innerHTML    = lang.weight;
document.getElementById("gender").innerHTML    = lang.gender;

</script>