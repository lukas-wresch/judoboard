<h1 id="headline">List of Judokas</h1>

<button class="add" id="add" style="margin-bottom: 1cm;" onclick="navigate('judoka_add.html')">New Judoka</button> 

<table id="list" border="1" rules="all" style="margin-bottom: 1cm;">
  <tr>
    <th style="width: 4cm;" id="firstname">Firstname</th>
    <th style="width: 4cm;" id="lastname">Lastname</th>
    <th style="width: 2cm;" id="weight">Weight</th>
    <th style="width: 2cm;" id="gender">Gender</th>
    <th style="width: 2cm;"></th>
  </tr>
</table>


<script>

function GetJudokaList()
{
  AjaxCallback("ajax/judoka/list", function(response) {
    console.log(response);
    var res = response.split(",");

    if (res.length < 4)
      return;

    var table = document.getElementById("list");

    while (table.rows.length > 1)
      table.deleteRow(table.rows.length-1);

    for (var i=0; i < res.length;)
    {
      var row = table.insertRow(-1);
      var cell1 = row.insertCell(0);
      var cell2 = row.insertCell(1);
      var cell3 = row.insertCell(2);
      var cell4 = row.insertCell(3);
      var cell5 = row.insertCell(4);

      var id = res[i++];
      cell1.innerHTML = res[i++];
      cell2.innerHTML = res[i++];
      cell3.innerHTML = res[i++] + " kg";
      var gender    = res[i++];
      var birthyear = res[i++];
      var clubID    = res[i++];


      if (gender == 0)
        cell4.innerHTML = lang.male;
      else
        cell4.innerHTML = lang.female;
      

      //cell5.innerHTML = "<a href=\"#judoka_edit.html?id="+id+"\">Edit Judoka</a>";
      cell5.innerHTML = "<button class=\"white\" style=\"width: 3.3cm; height: 9mm; margin-right: 5mm;\" onclick=navigate(\"judoka_add.html?id="+id+"\");>Edit Judoka</button>";
    }
  });
}


GetJudokaList();

document.getElementById("headline").innerHTML = lang.list_of_all_judokas;
document.getElementById("add").innerHTML      = lang.new_judoka;
document.getElementById("firstname").innerHTML = lang.firstname;
document.getElementById("lastname").innerHTML  = lang.lastname;
document.getElementById("weight").innerHTML    = lang.weight;
document.getElementById("gender").innerHTML    = lang.gender;

</script>